<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- Mediante ThymeLeaf utilizamos el fragmento de header para que se muestre aquí -->
    <link href="https://unpkg.com/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <title>Categorias</title>
</head>
<body>
	<!-- Mediante ThymeLeaf utilizamos el fragmento de header para que se muestre aquí -->
	<div th:replace="~{fragments/header :: header}"></div>
	<!-- Mostramos las categorias en formato tabla -->
	<h1>Listado de categorías</h1>
	<table class="table table-striped">
		<tr>
			<th scope="col">Nombre</th>
	     	<th scope="col">Propiedades</th>
	      	<th scope="col">Acción</th>
      	</tr>
      	<!-- Con ThymeLeaf mostramos todas las categorias que pasamos del modelo al controlador y de este a la vista -->
      	<tr th:each="categoria : ${categorias}">
	        <td scope="row" th:text="${categoria.nombre}"></td>
	        <td scope="row" th:text="${categoria.propiedades}"></td>
	        <!-- Adicionamos una sección con los botones de acción para borrar y editar categorias -->
	        <td class="actions">
				<a th:href="@{/categorias/edit/{id}(id=${categoria.id})}" class="btn btn-primary">Editar</a>
				<a th:href="@{/categorias/delete/{id}(id=${categoria.id})}" class="btn btn-danger">Borrar</a>   						
			</td>
		</tr>
	</table>
	<!-- Tenemos la opción de crear una nueva categoria-->
	<a th:href="@{/categorias/new}" class="btn btn-success">Nuevo</a>   
	<div  style="height: 500px"></div>
	<!-- Mediante ThymeLeaf utilizamos el fragmento de footer para que se muestre aquí -->
	<div th:replace="~{fragments/footer :: footer}"></div>
	<br/>  
	<!-- Enlace a fichero JS-->
	<script src="https://stackpath.bootstrapcdn.com/bootstrap/5.1.3/js/bootstrap.bundle.min.js"></script>
</body>
</html>