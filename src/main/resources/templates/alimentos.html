<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- Mediante ThymeLeaf utilizamos el fragmento de header para que se muestre aquí -->
    <link href="https://unpkg.com/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <title>Alimentos</title>
</head>
<body>
	<!-- Mediante ThymeLeaf utilizamos el fragmento de header para que se muestre aquí -->
	<div th:replace="~{fragments/header :: header}"></div>
	<!-- Mostramos los alimentos en formato tabla -->
	<h1>Listado de alimentos</h1>
	<table class="table table-striped">
		<tr>
			<th scope="col">Nombre</th>
	     	<th scope="col">Descripción</th>
	     	<th scope="col">Origen</th>
	      	<th scope="col">Precio</th>
	      	<th scope="col">Categoria</th>
	      	<th scope="col">Acción</th>
      	</tr>
      	<!-- Con ThymeLeaf mostramos todos los alimentos que pasamos del modelo al controlador y de este a la vista -->
      	<tr th:each="alimento : ${alimentos}">
	        <td scope="row" th:text="${alimento.nombre}"></td>
	        <td scope="row" th:text="${alimento.descripcion}"></td>
	        <td scope="row" th:text="${alimento.origen}"></td>
	        <td scope="row" th:text="${alimento.precio}"></td>
	        <td scope="row" th:text="${alimento.categoria?.nombre}"></td>
	        <!-- Adicionamos una sección con los botones de acción para borrar y editar alimentos -->
	        <td class="actions">
				<a th:href="@{/alimentos/edit/{id}(id=${alimento.id})}" class="btn btn-primary">Editar</a>
				<a th:href="@{/alimentos/delete/{id}(id=${alimento.id})}" class="btn btn-danger">Borrar</a>   						
			</td>
		</tr>
	</table>
	<!-- Tenemos la opción de crear un nuevo alimento-->
	<a th:href="@{/alimentos/new}" class="btn btn-success">Nuevo</a>   
	<div  style="height: 500px"></div>
	<!-- Mediante ThymeLeaf utilizamos el fragmento de footer para que se muestre aquí -->
	<div th:replace="~{fragments/footer :: footer}"></div>
	<br/>  
	<!-- Enlace a fichero JS-->
	<script src="https://stackpath.bootstrapcdn.com/bootstrap/5.1.3/js/bootstrap.bundle.min.js"></script>

</body>
</html>